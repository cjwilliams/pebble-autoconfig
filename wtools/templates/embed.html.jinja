<!DOCTYPE html>
<html>
<head>
	<title>{{longName}}</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css" media="screen">
		{% include "embed/css/pure/0.4.2/base-min.css" %}
		{% include "embed/css/pure/0.4.2/buttons-min.css" %}
		{% include "embed/css/pure/0.4.2/forms-min.css" %}
		{% include "embed/css/css-toggle-switch/1.1.1/toggle-switch.css" %}
		{% include "embed/css/pebble-autoconfig.css" %}
		/* Test area */
		button {width: 49%}
	</style>
</head>
<body>
	<div id="main">
		<div class="header" id="header">
			<h1>{{longName}}</h1>
		</div>
		<div id="content" class="content">
			<form id="form" class="pure-form pure-form-stacked">
				<fieldset>
					{% if 'items' in preferences %}
					{%- for item in preferences['items']: %}
					<div class="pure-control-group">
						<label for="{{ item['name'] }}">{{ item['title'] }}</label>
						{%- if item['type'] == 'enum' %}
						<div class="select-box">
							<select name="{{ item['name'] }}" id="{{ item['name'] }}">
								{%- for key, choice in item['choices'].iteritems() %}
								<option value="{{loop.index0 }}">{{ key }}</option>
								{%- endfor %}
							</select>
						</div>
						{%- elif item['type'] == 'integer' %}
						<input type="number" name="{{ item['name'] }}" id="{{ item['name'] }}" min="{{item['min']}}" max="{{item['max']}}" required data-required-message="{{ item['title'] }} is required" >
						{%- elif item['type'] == 'boolean' %}
						<label class="checkbox toggle android" onclick="">
							<input type="checkbox" name="{{ item['name'] }}" id="{{ item['name'] }}">
							<span>
								<span>{{ item['off-text'] }}</span>
								<span>{{ item['on-text'] }}</span>
							</span>

							<a class="slide-button"></a>
						</label>
						{%- elif item['type'] == 'string' %}
						<input type="text" name="{{ item['name'] }}" id="{{ item['name'] }}" value="" maxlength="{{ item['max-length'] }}" pattern="{{ item['pattern'] }}" required data-required-message="{{ item['title'] }} is required" >
						{%- endif %}
					</div>
					<p class="error"></p>
					{%- endfor %}
					{%- endif %}
				</fieldset>

				<button id="save" class="pure-button pure-button-primary" type="submit" form="form">Save</button>
				<button id="cancel" class="pure-button">Cancel</button>
			</form>
	
			<div id="logdiv"></div>
		</div>
		<div class="footer l-box is-center" id="footer">
			<span id="footer-text">Powered by Pebble Autoconfig</span>
		</div>
	</div>
	<script type="text/javascript">
		{% include "embed/js/validation.js" %}
		{% include "embed/js/pebble-autoconfig.js" %}
	</script>
</body>
</html>